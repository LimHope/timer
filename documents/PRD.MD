# 📱 적응형 스터디 타이머 PRD (Product Requirements Document)

## 1. 제품 개요 (Product Overview)

### 1.1 제품 설명
사용자의 실시간 학습 행동 데이터(문제 풀이 속도, 정답률, 질문 빈도, 타이머 확인 빈도 등)를 분석하여 공부 시간과 휴식 시간을 동적으로 조절하는 **적응형 스터디 타이머 웹 애플리케이션**입니다. AI 코치가 사용자의 집중 패턴을 학습하고, 최적의 타이밍에 휴식을 제안하거나 집중 시간을 연장하여 딥워크 효율을 극대화합니다.

### 1.2 제품 비전
"나를 가장 잘 이해하는 개인 맞춤형 학습 파트너"

기존의 획일적인 포모도로 타이머를 넘어, 개인의 인지 상태를 실시간으로 파악하고 적응하는 지능형 학습 도구를 제공합니다.

### 1.3 타겟 사용자
- **1차 타겟**: 혼자 공부하는 자기주도 학습자
- **특성**: 생산성 분석을 중요하게 생각하며, 최소한의 UI 방해를 선호하는 사용자
- **사용 맥락**: 수험 준비, 자격증 공부, 개발 학습, 독서 등 장시간 집중이 필요한 활동

### 1.4 핵심 가치 제안 (Value Proposition)
| 기존 솔루션 문제점 | 우리의 해결책 |
|---|---|
| 고정된 25분 타이머는 실제 집중 상태를 반영하지 못함 | 실시간 행동 데이터 기반 적응형 타이머 |
| 집중력 저하를 인지하지 못하고 과도하게 공부 | 피로도 자동 감지 및 휴식 권유 |
| 개인 학습 패턴에 대한 객관적 피드백 부재 | AI 기반 학습 인사이트 자동 생성 |

---

## 2. 문제 정의 및 목표 (Problem & Goals)

### 2.1 해결하려는 핵심 문제
1. **획일적 타이머의 한계**: 모든 사람이 25분마다 휴식이 필요한 것은 아니며, 같은 사람도 시간대와 컨디션에 따라 최적 집중 시간이 다름
2. **번아웃 위험**: 집중력이 떨어진 상태에서도 억지로 공부를 지속하여 효율 저하 및 피로 누적
3. **피드백 부재**: 자신의 학습 패턴에 대한 객관적 데이터가 없어 개선 방향을 알기 어려움

### 2.2 제품 목표 (Product Goals)
- **단기 목표**: 사용자의 지속 가능한 딥포커스 시간 20% 증가
- **중기 목표**: 번아웃 감소를 위한 적시 휴식 개입 성공률 80% 달성
- **장기 목표**: 개인 맞춤형 학습 인사이트 생성을 통한 학습 효율 개선

### 2.3 핵심 성과 지표 (KPI)
| 지표 | 측정 방법 | 목표 |
|---|---|---|
| 평균 집중 세션 지속 시간 | Supabase 세션 데이터 분석 | 35분 이상 |
| 자동 휴식 제안 수락률 | 제안 대비 실제 휴식 비율 | 70% 이상 |
| 주간 활성 사용 일수 | 7일 중 사용 일수 | 5일 이상 |
| AI 인사이트 조회율 | 생성된 인사이트 대비 조회 | 60% 이상 |

---

## 3. 주요 기능 명세 (Feature Specifications)

### 3.1 MUST HAVE (필수 기능)

#### 3.1.1 적응형 타이머 시스템
**기능 설명**
- 사용자의 실시간 행동 데이터를 분석하여 공부 시간을 자동으로 연장하거나 휴식을 제안
- 최소 15분, 최대 50분까지 유연하게 조정

**동작 로직**
```
[집중도 높음 감지 조건]
- 문제 풀이 속도: 기준 대비 ±10% 이내 안정
- 정답률: 70% 이상 유지
- 타이머 확인: 5분당 1회 이하
- 챗봇 질문: 학습 관련 질문 지속

→ 행동: "지금 흐름이 좋네요! 10분 더 집중하시겠어요?" (최대 50분까지)

[피로도 감지 조건]
- 문제 풀이 속도: 기준 대비 +30% 이상 느려짐
- 정답률: 50% 이하로 하락
- 타이머 확인: 5분당 3회 이상
- 같은 문제 재확인: 3회 이상

→ 행동: "잠깐 쉬어가는 게 좋겠어요. 5분 휴식을 시작할게요 🎵"
```

**UI/UX 요구사항**
- 집중 시간: 큰 타이머 + 현재 집중도 점수 표시
- 연장/휴식 제안: 부드러운 알림 팝업 (5초 후 자동 진행 or 수동 선택)
- 진행 바: 현재 세션의 예상 종료 시간 시각화

#### 3.1.2 집중도 점수 계산 (Focus Score)
**계산 알고리즘**
```
집중도 점수 (1-10) = 가중 평균
- 문제 풀이 속도 안정성: 40%
- 정답률: 30%
- 타이머 확인 빈도 (역수): 20%
- 챗봇 질문 품질: 10%
```

**표시 방식**
- 실시간 점수: 타이머 하단에 1-10점으로 표시
- 색상 코드: 8-10 (초록), 5-7 (노랑), 1-4 (빨강)
- 세션 종료 후: 해당 세션의 평균 집중도와 간단한 피드백

#### 3.1.3 AI 코치 챗봇
**공부 시간 중 기능**
- 학습 내용 관련 질문 답변
- "이 개념 설명해줘", "예시 문제 만들어줘" 등
- 질문 히스토리 Supabase 저장 (나중에 복습 자료로 활용)

**세션 분석 및 피드백**
- 세션 종료 시: "이번 세션 35분 집중, 평균 집중도 7.5점이에요!"
- 일일 리포트: "오늘 총 3시간 공부, 오후 3-5시에 집중도 최고였어요"
- 주간 인사이트: "당신은 휴식 후 20분이 골든타임이에요"

**제약 사항**
- 휴식 시간에는 챗봇 비활성화 (방해 금지)
- 공부 시간에만 상호작용 가능

#### 3.1.4 자동 휴식 모드
**UI 구성**
- 전체 화면 잔잔한 배경 애니메이션 (구름, 파도, 별 등 선택 가능)
- 중앙에 카운트다운 타이머만 크게 표시
- 배경 음악: lo-fi, ambient 음악 자동 재생 (선택 가능)
- 하단에 "휴식 끝내기" 작은 버튼 (조기 복귀 가능)

**기술 요구사항**
- 음악 스트리밍: YouTube Music API 또는 Spotify Web API 연동 고려
- 대안: 프리 라이선스 음원 직접 호스팅

#### 3.1.5 Supabase 데이터 저장
**저장 데이터**
- `study_sessions`: 세션별 시작/종료 시간, 집중도 점수, 자동/수동 종료 여부
- `behavior_logs`: 문제 풀이 속도, 정답률, 타이머 확인 타임스탬프
- `chat_history`: 챗봇 질문/답변 쌍
- `insights`: AI 생성 학습 인사이트

**데이터 흐름**
```
사용자 행동 → 클라이언트 수집 → Supabase 실시간 저장 
→ AI 분석 → 집중도 계산 + 인사이트 생성 → Supabase 저장 
→ 사용자에게 표시
```

---

### 3.2 NICE TO HAVE (선택 기능)

#### 3.2.1 시간대별 집중도 분석
- 요일 + 시간대별 평균 집중도 히트맵
- "당신은 월요일 오전이 집중력 최고예요" 패턴 발견

#### 3.2.2 골든타임 추천
- 휴식 후 최적 집중 시간대 학습
- "휴식 후 첫 20분이 집중도 9점 이상이에요, 어려운 문제는 지금 푸세요"

#### 3.2.3 요청형 퀴즈
- 사용자가 원할 때만 "퀴즈 내줘" 요청
- 최근 학습 내용 기반 객관식/주관식 문제 생성
- 결과를 학습 데이터에 반영

---

## 4. 사용자 여정 (User Journey)

### 4.1 첫 사용 (Onboarding)
1. 웹사이트 접속
2. 간단한 소개 화면: "당신의 집중 패턴을 학습합니다"
3. 초기 설정 (선택사항):
   - 주로 공부하는 과목/주제
   - 선호하는 휴식 음악 스타일
   - 알림 수신 방식

### 4.2 일반적인 공부 세션
```
1. [세션 시작] 
   - "수학 공부" 입력 → 타이머 시작 → 집중도 0으로 초기화

2. [공부 중 - 집중도 상승]
   - 문제 풀이 → 행동 데이터 수집 → 집중도 7점 도달
   - 챗봇에게 질문: "미적분 연쇄법칙 예시 보여줘"
   - AI 답변 제공 → 학습 지속

3. [25분 경과 - 집중도 여전히 높음]
   - 시스템 판단: 연장 제안
   - 팝업: "지금 흐름 좋은데 10분 더 할까요?"
   - 사용자 수락 → 타이머 35분으로 연장

4. [35분 경과 - 피로도 감지]
   - 문제 풀이 속도 급격히 느려짐
   - 타이머 3번 확인
   - 시스템: 자동 휴식 모드 진입

5. [휴식 5분]
   - 화면: 파도 애니메이션 + 카운트다운
   - 배경: Lo-fi 음악 재생
   - 사용자: 눈 감고 휴식

6. [휴식 종료]
   - "휴식 전 질문하신 연쇄법칙, 추가 설명 필요하세요?" (선택)
   - 새 세션 시작 또는 종료 선택

7. [세션 종료]
   - 대시보드 표시: "총 40분 집중, 평균 집중도 7.2점"
   - AI 피드백: "오늘 오후 시간대 집중도가 높았어요!"
```

### 4.3 주간 리뷰
- 일요일 저녁 알림: "이번 주 학습 리포트가 준비되었어요"
- 대시보드 접속:
  - 총 공부 시간: 15시간 30분
  - 평균 세션 길이: 32분
  - 최고 집중 시간대: 월/수/금 오후 3-5시
  - AI 인사이트: "화요일 아침 집중도가 낮아요, 다른 활동 고려해보세요"

---

## 5. 기술 아키텍처 (Technical Architecture)

### 5.1 시스템 구성도 (개념적)
```
[클라이언트 - Web]
- React/Vue.js SPA
- 타이머 UI
- 챗봇 인터페이스
- 대시보드 차트

↕ (실시간 통신)

[Supabase]
- PostgreSQL: 세션/행동 데이터 저장
- Realtime: 집중도 점수 실시간 업데이트
- Auth: 단일 사용자 인증
- Storage: (선택) 음악 파일 호스팅

↕ (API 호출)

[AI 서비스]
- LLM API (OpenAI/Claude): 챗봇 답변 생성
- 집중도 계산 로직
- 인사이트 생성 알고리즘
```

### 5.2 핵심 기술 스택
- **프론트엔드**: React + TypeScript + Tailwind CSS
- **상태 관리**: Zustand 또는 React Context
- **백엔드/DB**: Supabase (PostgreSQL, Realtime, Auth)
- **AI**: OpenAI GPT-4 또는 Claude API
- **차트**: Recharts 또는 Chart.js
- **배포**: Vercel 또는 Netlify

### 5.3 데이터 모델 (추상적 참조)
```
study_sessions
- id, user_id, start_time, end_time
- subject, focus_score_avg, session_type (auto_extend/auto_break/manual)

behavior_logs
- id, session_id, timestamp, event_type
- event_data (문제 풀이 시간, 정답 여부, 타이머 확인 등)

chat_history
- id, session_id, timestamp, user_message, ai_response

ai_insights
- id, user_id, insight_type (daily/weekly), generated_at
- content (JSON 형식 인사이트 데이터)
```

### 5.4 실시간 집중도 계산 흐름
```
1. 클라이언트: 사용자 행동 이벤트 발생 (문제 제출, 타이머 클릭 등)
2. 클라이언트: behavior_logs에 이벤트 기록
3. 클라이언트: 최근 N분 데이터 수집 → 집중도 계산 함수 실행
4. 클라이언트: 계산된 점수를 UI에 표시 + study_sessions 업데이트
5. (선택) 서버리스 함수: 주기적으로 세션 분석 → 휴식/연장 제안 트리거
```

---

## 6. 디자인 및 UI/UX 가이드라인

### 6.1 디자인 원칙
1. **미니멀리즘**: 공부 중에는 타이머와 집중도 점수만 크게 표시
2. **비간섭성**: 알림은 부드럽고 강제하지 않음
3. **직관성**: 첫 사용자도 별도 설명 없이 사용 가능
4. **감성적 피드백**: 숫자뿐 아니라 응원 메시지, 시각적 보상

### 6.2 화면별 구성 (개념적 이미지 제안)

#### 6.2.1 메인 타이머 화면
```
┌─────────────────────────────────┐
│                                 │
│         [과목: 수학]            │
│                                 │
│          ⏱ 23:45               │
│       (큰 원형 타이머)          │
│                                 │
│     집중도: ⭐️⭐️⭐️⭐️⭐️⭐️⭐️ (7/10)    │
│                                 │
│  [챗봇 아이콘] 궁금한 점 물어보기  │
│                                 │
│     [일시정지]  [세션 종료]      │
└─────────────────────────────────┘
```

#### 6.2.2 휴식 모드 화면
```
┌─────────────────────────────────┐
│                                 │
│    (파도 애니메이션 배경)        │
│                                 │
│                                 │
│          🎵 4:32 🎵            │
│      (카운트다운 타이머)         │
│                                 │
│                                 │
│                                 │
│        [휴식 끝내기]             │
└─────────────────────────────────┘
```

#### 6.2.3 대시보드 (인사이트)
```
┌─────────────────────────────────┐
│  📊 이번 주 학습 리포트          │
├─────────────────────────────────┤
│  총 공부 시간: 15시간 30분       │
│  평균 세션: 32분                │
│  평균 집중도: 7.2/10            │
│                                 │
│  [시간대별 집중도 히트맵 차트]   │
│                                 │
│  💡 AI 인사이트                 │
│  "월요일 오후 3-5시 집중 최고!"  │
│  "화요일 아침은 가벼운 복습 추천" │
└─────────────────────────────────┘
```

### 6.3 색상 팔레트
- **집중 모드**: 차분한 블루 (#2563EB)
- **휴식 모드**: 따뜻한 베이지/그린 (#A7F3D0)
- **경고/피로**: 부드러운 오렌지 (#FB923C)
- **성공/칭찬**: 밝은 그린 (#10B981)

---

## 7. 보안 및 개인정보 보호

### 7.1 데이터 보안
- **Supabase Row Level Security (RLS)**: 사용자별 데이터 접근 제어
- **HTTPS 필수**: 모든 통신 암호화
- **API 키 관리**: 환경 변수로 관리, 클라이언트 노출 금지

### 7.2 개인정보 보호
- **단일 사용자 시스템**: 다른 사용자와 데이터 공유 없음
- **익명화**: 외부 AI API 전송 시 개인 식별 정보 제거
- **로컬 우선**: 가능한 클라이언트에서 처리, 최소 데이터만 서버 전송

### 7.3 규정 준수
- 현재 단계에서는 GDPR/개인정보보호법 직접 적용 대상 아님 (자가 사용)
- 향후 확장 시 고려 사항으로 문서화

---

## 8. 개발 로드맵

### Phase 1: MVP (4주)
- [ ] 기본 타이머 UI (고정 25분)
- [ ] Supabase 연동 및 세션 저장
- [ ] 간단한 집중도 계산 (문제 풀이 속도만)
- [ ] 챗봇 기본 질의응답 (OpenAI API)

### Phase 2: 적응형 코어 (4주)
- [ ] 다중 요인 집중도 계산 알고리즘
- [ ] 자동 연장/휴식 제안 로직
- [ ] 휴식 모드 UI + 음악 재생
- [ ] 기본 대시보드 (일일 통계)

### Phase 3: AI 인사이트 (3주)
- [ ] 시간대별 집중도 분석
- [ ] AI 주간 리포트 생성
- [ ] 골든타임 추천 알고리즘
- [ ] 챗봇 고도화 (맥락 기억)

### Phase 4: 폴리싱 (2주)
- [ ] UI/UX 개선 및 애니메이션
- [ ] 성능 최적화
- [ ] 사용자 피드백 반영
- [ ] 배포 및 모니터링 설정

---

## 9. 성공 메트릭 및 검증 방법

### 9.1 정량적 지표
| 메트릭 | 측정 시점 | 목표 | 검증 방법 |
|---|---|---|---|
| 일일 활성 사용 | 매일 | 주 5일 이상 | Supabase 세션 로그 |
| 평균 집중 시간 | 주간 | 35분 이상 | study_sessions 분석 |
| 자동 휴식 수락률 | 실시간 | 70% 이상 | 제안 vs 수락 비율 |
| 챗봇 사용 빈도 | 세션당 | 2회 이상 | chat_history 카운트 |

### 9.2 정성적 피드백
- **주간 회고**: 개인 노트 - "이번 주 타이머가 도움이 되었나?"
- **AI 인사이트 유용성**: 실제 행동 변화가 있었는지 자가 평가

---

## 10. 리스크 및 대응 방안

| 리스크 | 영향 | 대응 방안 |
|---|---|---|
| AI API 비용 과다 | 높음 | 요청 횟수 제한, 캐싱, 저렴한 모델 병행 사용 |
| 집중도 계산 부정확 | 중간 | 초기 2주간 수동 보정, 지속적 알고리즘 개선 |
| 음악 스트리밍 저작권 | 중간 | 프리 라이선스 음원 사용 또는 유튜브 임베드 |
| 단일 사용자 동기부여 저하 | 낮음 | 주간 리포트 강화, 마일스톤 배지 시스템 추가 |

---

## 11. 참고 자료

### 11.1 이론적 배경
- **Pomodoro Technique**: Francesco Cirillo의 시간 관리 기법
- **Deep Work**: Cal Newport - 집중력 극대화 방법론
- **Flow State**: Mihaly Csikszentmihalyi - 몰입 상태의 조건

### 11.2 유사 제품 벤치마킹
- **Forest**: 집중 시간 시각화, 게임화 요소
- **Toggl Track**: 시간 추적 및 분석
- **RescueTime**: 자동 생산성 분석

### 11.3 기술 문서
- Supabase Documentation: https://supabase.com/docs
- OpenAI API Reference: https://platform.openai.com/docs
- Web Audio API (음악 재생): MDN Web Docs

---

## 12. 부록

### 12.1 용어 정의
- **집중도 점수**: 사용자의 현재 인지 상태를 1-10점으로 수치화한 지표
- **적응형 타이머**: 고정 시간이 아닌 실시간 데이터 기반으로 동적 조정되는 타이머
- **딥포커스**: 외부 방해 없이 한 가지 작업에 완전히 몰입한 상태

### 12.2 FAQ
**Q: 왜 단일 사용자만 지원하나요?**
A: 초기 MVP는 개인 맞춤화에 집중합니다. 향후 스터디 그룹 기능 추가 가능성은 열려 있습니다.

**Q: AI 코치가 공부를 방해하지 않나요?**
A: 사용자가 직접 질문할 때만 응답하며, 휴식 시간에는 완전히 비활성화됩니다.

**Q: 오프라인에서도 사용 가능한가요?**
A: 현재는 온라인 전용이나, Phase 4에서 오프라인 모드 검토 예정입니다.

---

**문서 버전**: v1.0  
**최종 수정일**: 2026-01-29  
**작성자**: Product Team  
**검토자**: CTO, PM